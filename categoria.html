<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Categorías</title>
    <link rel="stylesheet" href="categoria.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>
    <div class="bg"></div>
    <div class="cartel">
        <span class="texto-cartel">CATEGORÍAS</span>
        <a href="instrucciones.html" id="btnAyuda" data-tooltip="¿Cómo jugar?" aria-label="Ayuda e instrucciones">
            <i class="fas fa-question"></i>
        </a>

    </div>
    <main class="contenedor">
        <section class="tablero" aria-labelledby="categorias">
            <button type="button" id="ci" class="btn-cat1"><i class="fas fa-image"></i> CRUCIGRAMA CON IMÁGENES</button>
            <section id="dificultad_ci" class="menu_dificultad ocultar">
                <button type="button" id="btnFacil1" class="botones_dificultad">FÁCIL</button>
                <button type="button" id="btnIntermedio1" class="botones_dificultad">MEDIO</button>
                <button type="button" id="btnDificil1" class="botones_dificultad">DIFÍCIL</button>
            </section>
            <button type="button" id="cc" class="btn-cat2"><i class="fas fa-puzzle-piece"></i> CRUCIGRAMA
                CRÍPTICO</button>
            <section id="dificultad_cc" class="menu_dificultad ocultar">
                <button type="button" id="btnFacil2" class="botones_dificultad">FÁCIL</button>
                <button type="button" id="btnIntermedio2" class="botones_dificultad">MEDIO</button>
                <button type="button" id="btnDificil2" class="botones_dificultad">DIFÍCIL</button>
            </section>
            <button type="button" id="cm" class="btn-cat3"><i class="fas fa-calculator"></i> CRUCIGRAMA
                MATEMÁTICO</button>
            <section id="dificultad_cm" class="menu_dificultad ocultar">
                <button type="button" id="btnFacil3" class="botones_dificultad"
                    data-tooltip="---≪ Matriz 10x10 ≫--- Las imágenes son sencillas y fáciles de comprender a primera vista.">FÁCIL</button>
                <button type="button" id="btnIntermedio3" class="botones_dificultad"
                    data-tooltip="---≪ Matriz 20x20 ≫--- Para jugadores intermedios, crucigramas con vocabulario variado y retos moderados.">MEDIO</button>
                <button type="button" id="btnDificil3" class="botones_dificultad"
                    data-tooltip="---≪ Matriz 40X40 ≫---Nivel avanzado, crucigramas complejos con términos especializados y mayor desafío.">DIFÍCIL</button>
            </section>
            <button type="button" id="ct" class="btn-cat4"><i class="fas fa-book-open"></i> CRUCIGRAMA TEMÁTICO</button>
            <section id="dificultad_ct" class="menu_dificultad ocultar">
                <button type="button" id="btnFacil4" class="botones_dificultad"
                    data-tooltip="---≪ Matriz 10x10 ≫--- Las imágenes son sencillas y fáciles de comprender a primera vista.">FÁCIL</button>
                <button type="button" id="btnIntermedio4" class="botones_dificultad"
                    data-tooltip="---≪ Matriz 20x20 ≫--- Para jugadores intermedios, crucigramas con vocabulario variado y retos moderados.">MEDIO</button>
                <button type="button" id="btnDificil4" class="botones_dificultad"
                    data-tooltip="---≪ Matriz 40X40 ≫---Nivel avanzado, crucigramas complejos con términos especializados y mayor desafío.">DIFÍCIL</button>
            </section>
        </section>
        <nav class="acciones">
            <span class="btn-volver" id="btnVolver"></span>
        </nav>

        <section id="pantallaCarga" class="pantalla-carga ocultar">
            <div class="caja-carga">
                <div class="contenido-cartel">
                    <p class="mensaje-carga">
                        <strong>¿Cómo jugar?</strong><br>Solo observa, haz click en la casilla y escribe la palabra. Las
                        imágenes son claras y conocidas. ¡Buena suerte!
                    </p>
                    <div class="barra-externa">
                        <div class="barra-interna" id="barraProgreso"></div>
                    </div>
                    <p id="porcentaje">21%</p>
                </div>
            </div>
        </section>
        <section id="pantallaCarga1" class="pantalla-carga ocultar">
            <div class="caja-carga">
                <div class="contenido-cartel">
                    <p class="mensaje-carga">
                        <strong>¿Cómo jugar?</strong><br>Las imágenes no siempre son <br> lo que parecen, requieren de
                        más análisis para llegar a la palabra correcta. <br>¡Es hora de poner tu mente a trabajar!
                    </p>
                    <div class="barra-externa">
                        <div class="barra-interna" id="barraProgreso1"></div>
                    </div>
                    <p id="porcentaje1">21%</p>
                </div>
            </div>
        </section>
        <section id="pantallaCarga3" class="pantalla-carga ocultar">
            <div class="caja-carga">
                <div class="contenido-cartel">
                    <p class="mensaje-carga">
                        <strong>¿Cómo jugar?</strong><br>Las imágenes no son lo que parecen <br> debes analizar y
                        observar cuidadosamente para llegar a la respuesta correcta <br>¡Ten paciencia!
                    </p>
                    <div class="barra-externa">
                        <div class="barra-interna" id="barraProgreso3"></div>
                    </div>
                    <p id="porcentaje3">21%</p>
                </div>
            </div>
        </section>
        <section id="pantallaCarga4" class="pantalla-carga ocultar">
            <div class="caja-carga">
                <div class="contenido-cartel">
                    <p class="mensaje-carga">
                        <strong>¿Cómo jugar?</strong><br>Lee cuidadosamente las definiciones, las palabras aquí son
                        reconocidas y nada rebuscadas ¡Diviértete!
                    </p>
                    <div class="barra-externa">
                        <div class="barra-interna" id="barraProgreso4"></div>
                    </div>
                    <p id="porcentaje4">21%</p>
                </div>
            </div>
        </section>
        <section id="pantallaCarga5" class="pantalla-carga ocultar">
            <div class="caja-carga">
                <div class="contenido-cartel">
                    <p class="mensaje-carga">
                        <strong>¿Cómo jugar?</strong><br>Analiza cada pista: el vocabulario es cotidiano pero exige
                        precisión. Busca la opción más clara sin complicarte.
                    </p>
                    <div class="barra-externa">
                        <div class="barra-interna" id="barraProgreso5"></div>
                    </div>
                    <p id="porcentaje5">21%</p>
                </div>
            </div>
        </section>
        <section id="pantallaCarga6" class="pantalla-carga ocultar">
            <div class="caja-carga">
                <div class="contenido-cartel">
                    <p class="mensaje-carga">
                        <strong>¿Cómo jugar?</strong><br>Olvida lo obvio. Cada pista tiene dos caras: La definición y el
                        rompecabezas de palabras. <br>¡Pon tu mente a trabajar en este nivel!
                    </p>
                    <div class="barra-externa">
                        <div class="barra-interna" id="barraProgreso6"></div>
                    </div>
                    <p id="porcentaje6">21%</p>
                </div>
            </div>
        </section>
        <section id="pantallaCarga7" class="pantalla-carga ocultar">
            <div class="caja-carga">
                <div class="contenido-cartel">
                    <p class="mensaje-carga">
                        <strong>¿Cómo jugar?</strong><br>Tendrás que resolver un crucigrama en base a conocimientos de
                        sustracción y adición <br>¡Pon tu mente a trabajar!
                    </p>
                    <div class="barra-externa">
                        <div class="barra-interna" id="barraProgreso7"></div>
                    </div>
                    <p id="porcentaje7">21%</p>
                </div>
            </div>
        </section>
        <section id="pantallaCarga8" class="pantalla-carga ocultar">
            <div class="caja-carga">
                <div class="contenido-cartel">
                    <p class="mensaje-carga">
                        <strong>¿Cómo jugar?</strong><br>Requiere conocimientos en adición y sustración con un poco más
                        de análisis <br> ¡Buena suerte!
                    </p>
                    <div class="barra-externa">
                        <div class="barra-interna" id="barraProgreso8"></div>
                    </div>
                    <p id="porcentaje8">21%</p>
                </div>
            </div>
        </section>
        <section id="pantallaCarga9" class="pantalla-carga ocultar">
            <div class="caja-carga">
                <div class="contenido-cartel">
                    <p class="mensaje-carga">
                        <strong>¿Cómo jugar?</strong><br>Último nivel para probar tus conocimientos en operaciones
                        básicas matemáticas, este nivel requiere más análisis <br> ¡Buena suerte!
                    </p>
                    <div class="barra-externa">
                        <div class="barra-interna" id="barraProgreso9"></div>
                    </div>
                    <p id="porcentaje9">21%</p>
                </div>
            </div>
        </section>
        <section id="pantallaCarga10" class="pantalla-carga ocultar">
            <div class="caja-carga">
                <div class="contenido-cartel">
                    <p class="mensaje-carga">
                        <strong>¿Cómo jugar?</strong><br>Un crucigrama temático reúne palabras de un mismo tema, en este
                        nivel: Útiles Escolares. Las pistas son claras ¡Diviértete!
                    </p>
                    <div class="barra-externa">
                        <div class="barra-interna" id="barraProgreso10"></div>
                    </div>
                    <p id="porcentaje10">21%</p>
                </div>
            </div>
        </section>
        <section id="pantallaCarga11" class="pantalla-carga ocultar">
            <div class="caja-carga">
                <div class="contenido-cartel">
                    <p class="mensaje-carga">
                        <strong>¿Cómo jugar?</strong><br>Un crucigrama temático reúne palabras de un mismo tema, en este
                        nivel: Animales. Las pistas a veces pueden ser confusas ¡Diviértete!
                    </p>
                    <div class="barra-externa">
                        <div class="barra-interna" id="barraProgreso11"></div>
                    </div>
                    <p id="porcentaje11">21%</p>
                </div>
            </div>
        </section>
        <section id="pantallaCarga12" class="pantalla-carga ocultar">
            <div class="caja-carga">
                <div class="contenido-cartel">
                    <p class="mensaje-carga">
                        <strong>¿Cómo jugar?</strong><br>Un crucigrama temático reúne palabras de un mismo tema, en este
                        nivel: Informática. Piensa y analiza cada uno de los conceptos dados para dar con la palabra
                        correcta.
                    </p>
                    <div class="barra-externa">
                        <div class="barra-interna" id="barraProgreso12"></div>
                    </div>
                    <p id="porcentaje12">21%</p>
                </div>
            </div>
        </section>
    </main>
    <script>
    /* --- LÓGICA DE MENÚS DESPLEGABLES --- */
    function toggleMenu(idMenu) {
        // Cierra todos primero
        document.querySelectorAll('.menu_dificultad').forEach(menu => {
            if (menu.id !== idMenu) menu.classList.add('ocultar');
        });
        // Alterna el seleccionado
        document.getElementById(idMenu).classList.toggle('ocultar');
    }

    document.getElementById('ci').addEventListener('click', () => toggleMenu('dificultad_ci'));
    document.getElementById('cc').addEventListener('click', () => toggleMenu('dificultad_cc'));
    document.getElementById('cm').addEventListener('click', () => toggleMenu('dificultad_cm'));
    document.getElementById('ct').addEventListener('click', () => toggleMenu('dificultad_ct'));

    /* --- LÓGICA DE CARGA UNIFICADA (Para CRUCIGRAMAS NORMALES) --- */
    // Redirige a juego.html para que el motor.js cargue el nivel
    function cargarNivel(idNivel, idPantallaCarga = 'pantallaCarga') {
        const pantalla = document.getElementById(idPantallaCarga);
        const pantallaFinal = pantalla || document.getElementById('pantallaCarga');
        
        pantallaFinal.classList.remove('ocultar');
        
        const barra = pantallaFinal.querySelector('.barra-interna');
        const texto = pantallaFinal.querySelector('p[id^="porcentaje"]');
        
        let progreso = 0;
        const intervalo = setInterval(() => {
            progreso += 2;
            if(barra) barra.style.width = progreso + '%';
            if(texto) texto.textContent = progreso + '%';
            
            if (progreso >= 100) {
                clearInterval(intervalo);
                // REDIRECCIÓN GENÉRICA
                window.location.href = `juego.html?nivel=${idNivel}`; 
            }
        }, 30); 
    }
    
    /* --- LÓGICA DE CARGA DIRECTA (Solo para MATEMÁTICAS) --- */
    // Redirige directamente al archivo HTML, saltándose juego.html
    function cargarNivelDirecto(archivoHTML, idPantallaCarga) {
        const pantalla = document.getElementById(idPantallaCarga);
        const pantallaFinal = pantalla || document.getElementById('pantallaCarga');
        
        pantallaFinal.classList.remove('ocultar');
        
        const barra = pantallaFinal.querySelector('.barra-interna');
        const texto = pantallaFinal.querySelector('p[id^="porcentaje"]');
        
        let progreso = 0;
        const intervalo = setInterval(() => {
            progreso += 2;
            if(barra) barra.style.width = progreso + '%';
            if(texto) texto.textContent = progreso + '%';
            
            if (progreso >= 100) {
                clearInterval(intervalo);
                // REDIRECCIÓN DIRECTA AL ARCHIVO MANUAL
                window.location.href = archivoHTML; 
            }
        }, 30); 
    }

    /* --- ASIGNACIÓN DE BOTONES A NIVELES --- */
    // Imágenes (ci)
    document.getElementById('btnFacil1').onclick = () => cargarNivel('ci_facil', 'pantallaCarga');
    document.getElementById('btnIntermedio1').onclick = () => cargarNivel('ci_medio', 'pantallaCarga1');
    document.getElementById('btnDificil1').onclick = () => cargarNivel('ci_dificil', 'pantallaCarga3');

    // Críptico (cc)
    document.getElementById('btnFacil2').onclick = () => cargarNivel('cc_facil', 'pantallaCarga4');
    document.getElementById('btnIntermedio2').onclick = () => cargarNivel('cc_medio', 'pantallaCarga5');
    document.getElementById('btnDificil2').onclick = () => cargarNivel('cc_dificil', 'pantallaCarga6');

    // ** MATEMÁTICO (cm) - ¡USA CARGA DIRECTA! **
    document.getElementById('btnFacil3').onclick = () => cargarNivelDirecto('cmFacil.html', 'pantallaCarga7');
    document.getElementById('btnIntermedio3').onclick = () => cargarNivelDirecto('cmMedio.html', 'pantallaCarga8');
    document.getElementById('btnDificil3').onclick = () => cargarNivelDirecto('cmDificil.html', 'pantallaCarga9');

    // Temático (ct)
    document.getElementById('btnFacil4').onclick = () => cargarNivel('ct_facil', 'pantallaCarga10');
    document.getElementById('btnIntermedio4').onclick = () => cargarNivel('ct_medio', 'pantallaCarga11');
    document.getElementById('btnDificil4').onclick = () => cargarNivel('ct_dificil', 'pantallaCarga12');

    // Botón Volver
    document.getElementById('btnVolver').onclick = () => window.location.href = 'index.html';
</script>
</body>

</html>